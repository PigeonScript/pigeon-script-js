var z=function(g,k){while(g.length>0&&k.indexOf(g[0])!=-1)g=g.substr(1);while(g.length>0&&k.indexOf(g[g.length-1])!=-1)g=g.substr(0,g.length-1);return g},s=[],t=function(g){return isNaN(Number(g))?g:Number(g)},p=function(){return s.length?s.pop():t(prompt("Value Required"))},a={s:function(){return s.length>1?p()+p():p()*2},u:function(){return s.length>1?-1*(p()-p()):-1*p()},m:function(){return s.length?p()*p():Math.pow(p(),2)},d:function(){return s.length?1/(p()/p()):1/p()},e:function(){if(s.length>1){var a=p(),b=p();return Math.pow(b,a)}else{var a=p();return Math.pow(a,a)}},o:function(){a=p();b=p();return b%a},f:function(){i=1;p=p();for(n=1;n<=p;n++)i*=n;return i}},n=function(){var b=p(),c=p();return c[b]},l=function(){return p().length},q=function(){o(p())},o=function(g){var z=document.getElementById("list"),b=document.createElement("li");z.appendChild(document.createTextNode(g));z.appendChild(b)},f={'+':a.s,'-':a.u,'*':a.m,'/':a.d,'^':a.e,'%':a.o,'!':a.f,'~':n,'l':l},x={'p':q},d=[0,1,2,3,4,5,6,7,8,9],h=function(g){var k=0,c=function(){return g[k]},y=[];while(k<g.length){if(c()in d){var m = "";while((k<g.length)&&((c()in d)||(c()=='.'&&!('.'in m)))){m+=c();k+=1;}k-=1;y.push(["push",t(m)])}if(c()=='"'){var w="";while(k<g.length){w+=c();k+=1;if((k>=g.length)||(c()=='"'))break;}y.push(["push",r(w,'"')])}if(c() in f)y.push(["function",f[c()]]);if(c()in x)y.push(["nonreturn",x[c()]]);k+=1}return y},e=function(g){var k=0,c=function(){return g[k]};while(k<g.length){if(c()[0]=="push")s.push(c()[1]);if(c()[0]=="function")s.push(c()[1]());if(c()[0]=="nonreturn")c()[1]();k+=1;if(s.length)console.log(s);}if(s.length)for(var j=0;j<s.length;j++)console.log(s[j])},r=function(g){if(((g.split('"').length-1)%2)!=0)g='"'+g;var i=h(g);console.log(i);e(i)};
