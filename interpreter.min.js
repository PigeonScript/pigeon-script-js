var s=[],p=function(){return s.length?t(s.pop()):t(prompt('Input value:'))},t=function(v){return isNaN(Number(v))?v:Number(v)},a=function(){s.push(s.length==1?p()*2:p()+p())},u=function(){s.push(s.length==1?-1*p():-1*(p()-p()))},m=function(){s.push(s.length==1?Math.pow(pop(),2):p()*p())},d=function(){s.push(s.length==1?1/p():1/p()/p())},f=function(){let n=p();for(let i=n;i>=1;i--)n*=i;s.push(n)},e=function(){if(s.length==1){let a=p();s.push(Math.pow(a,a))}else{let a=p(),b=p();s.push(Math.pow(b,a))}},o=function(){let a=p();b=p();s.push(b%a)},x={'+':a,'-':u,'*':m,'/':d,'!':f,'^':e,'%':o},i=[0,1,2,3,4,5,6,7,8,9],r={a:{p:'Action: Push',f:'Action: Execute'},d:{v:null},m:'standard',p:[],r:function(c) {if(c in i)r.p.push([r.a.p,c]);else if(c in x)r.p.push([r.a.f,x[c]])}};function n(c){s=[];let p=0;d=function(){return c[p]};while(p<c.length){let o=r.p.length;r.r(d());p++}for(let i=0;i<r.p.length;i++)if(/Push/.test(r.p[i][0]))s.push(r.p[i][1]);else r.p[i][1]();if(s.length)for(let i=0;i<s.length;i++)console.log(s[i])}
